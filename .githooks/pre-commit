#!/bin/bash
# Pre-commit hook for OAuth validations

echo "üîç Running pre-commit validations..."
echo ""

# Validate OAuth config
if ! ./scripts/validation/check-oauth-config.sh; then
    echo ""
    echo "‚ùå OAuth configuration validation failed!"
    echo "Fix errors before committing"
    exit 1
fi

# Validate JWT implementation
if ! ./scripts/validation/check-jwt-validation.sh; then
    echo ""
    echo "‚ùå JWT validation check failed!"
    echo "Fix errors before committing"
    exit 1
fi

# Scan secrets
if ! ./scripts/validation/check-secrets.sh; then
    echo ""
    echo "‚ùå Secrets detected in code!"
    echo "Remove secrets before committing"
    exit 1
fi

echo ""
echo "‚úÖ All pre-commit validations passed!"
echo "Proceeding with commit..."
